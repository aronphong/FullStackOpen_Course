(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{21:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var c=t(0),a=t(1),r=t.n(a),u=t(15),o=t.n(u),s=(t(21),t(5)),i=t(4),d=t(3),j=t.n(d),h="http://localhost:3001/persons",b=function(){return j.a.get(h).then((function(e){return e.data}))},l=function(e){return j.a.post(h,e).then((function(e){return e.data}))},m=function(e,n){return j.a.put("".concat(h,"/").concat(e),n).then((function(e){return e.data}))},f=function(e){return j.a.delete("".concat(h,"/").concat(e)).then((function(e){return e.data}))},O=function(e){var n=e.person,t=e.deletePersonHandler;return Object(c.jsxs)("li",{children:[n.name," ",n.number,Object(c.jsx)("button",{onClick:function(){return t(n.id)},children:"Delete Contact"})]})},p=function(e){var n=e.searchName,t=e.handleNameSearch;return Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{children:"Search for a contact"}),Object(c.jsx)("input",{type:"text",value:n,onChange:t})]})},x=function(e){var n=e.addPerson,t=e.newPerson,a=e.handleNameChange,r=e.handleNumberChange;return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Add New Contact"}),Object(c.jsxs)("form",{onSubmit:n,children:[Object(c.jsxs)("div",{children:["name:"," ",Object(c.jsx)("input",{value:t.name,onChange:a,type:"text"})]}),Object(c.jsxs)("div",{children:["Number:"," ",Object(c.jsx)("input",{value:t.number,onChange:r,type:"number"})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",children:"add"})})]})]})},g=function(e){var n=e.message,t=e.messageType;return null===n?null:Object(c.jsx)("h1",{className:t,children:n})},v=function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],r=n[1],u=Object(a.useState)({}),o=Object(i.a)(u,2),d=o[0],j=o[1],h=Object(a.useState)(""),v=Object(i.a)(h,2),C=v[0],N=v[1],y=Object(a.useState)({}),S=Object(i.a)(y,2),P=S[0],w=S[1];Object(a.useEffect)((function(){b().then((function(e){r(e)}))}),[]);var k=function(e){var n=t.filter((function(n){return n.id!==e}));f(e).then((function(){return r(n)})).catch((function(e){w({text:"Contact was already removed from server",messageType:"error"})}))},T=""===C?t:t.filter((function(e){return-1!==e.name.toLowerCase().indexOf(C.toLowerCase())}));return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Phonebook"}),Object(c.jsx)(g,{message:P.text,messageType:P.messageType}),Object(c.jsx)(p,{searchName:C,handleNameSearch:function(e){N(e.target.value)}}),Object(c.jsx)(x,{addPerson:function(e){e.preventDefault(),t.map((function(e){if(e.name===d.name)return e.number!==d.number?m(e.id,d).then((function(e){r(t.map((function(n){return n.id!==e.id?n:e})))})):alert("".concat(d.name," is already in the phonebook"))})),t.filter((function(e){return e.name===d.name})).length<=0&&l(d).then((function(e){return w({text:"".concat(e.name," added"),messageType:"success"}),j({name:"",number:0}),r(t.concat(e))}))},newPerson:d,handleNameChange:function(e){j(Object(s.a)(Object(s.a)({},d),{},{name:e.target.value}))},handleNumberChange:function(e){j(Object(s.a)(Object(s.a)({},d),{},{number:e.target.value}))}}),Object(c.jsx)("h2",{children:"Numbers"}),Object(c.jsx)("ul",{children:T.map((function(e){return Object(c.jsx)(O,{className:"person",person:e,deletePersonHandler:k},e.name)}))})]})},C=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,41)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,r=n.getLCP,u=n.getTTFB;t(e),c(e),a(e),r(e),u(e)}))};o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(v,{})}),document.getElementById("root")),C()}},[[40,1,2]]]);
//# sourceMappingURL=main.9eb662f9.chunk.js.map